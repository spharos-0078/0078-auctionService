# ğŸ·ï¸ Auction Service

> **ì‹¤ì‹œê°„ ê²½ë§¤ ì‹œìŠ¤í…œ** - MSA ì•„í‚¤í…ì²˜ ê¸°ë°˜ì˜ ê³ ì„±ëŠ¥ ê²½ë§¤ ì„œë¹„ìŠ¤

[![Java](https://img.shields.io/badge/Java-17-orange.svg)](https://openjdk.java.net/projects/jdk/17/)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.5.0-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![Spring Cloud](https://img.shields.io/badge/Spring%20Cloud-2025.0.0-blue.svg)](https://spring.io/projects/spring-cloud)
[![MySQL](https://img.shields.io/badge/MySQL-8.0-blue.svg)](https://www.mysql.com/)
[![Redis](https://img.shields.io/badge/Redis-7.0-red.svg)](https://redis.io/)
[![Kafka](https://img.shields.io/badge/Kafka-3.0-purple.svg)](https://kafka.apache.org/)

## ğŸ“‹ ëª©ì°¨

- [í”„ë¡œì íŠ¸ ê°œìš”](#-í”„ë¡œì íŠ¸-ê°œìš”)
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [ì•„í‚¤í…ì²˜](#-ì•„í‚¤í…ì²˜)
- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ì„¤ì¹˜ ë° ì‹¤í–‰](#-ì„¤ì¹˜-ë°-ì‹¤í–‰)
- [API ë¬¸ì„œ](#-api-ë¬¸ì„œ)
- [ê°œë°œ ê°€ì´ë“œ](#-ê°œë°œ-ê°€ì´ë“œ)
- [ì„±ëŠ¥ ìµœì í™”](#-ì„±ëŠ¥-ìµœì í™”)
- [ëª¨ë‹ˆí„°ë§](#-ëª¨ë‹ˆí„°ë§)
- [ê¸°ì—¬ ê°€ì´ë“œ](#-ê¸°ì—¬-ê°€ì´ë“œ)

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

Auction ServiceëŠ” **ì‹¤ì‹œê°„ ê²½ë§¤ ì‹œìŠ¤í…œ**ì˜ í•µì‹¬ ì„œë¹„ìŠ¤ë¡œ, ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì§•ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤:

- **ì‹¤ì‹œê°„ ì…ì°° ì²˜ë¦¬**: Redis Lua Scriptë¥¼ í†µí•œ ì›ìì  ë™ì‹œì„± ì œì–´
- **ë¶„ì‚° íŠ¸ëœì­ì…˜**: Saga íŒ¨í„´ì„ í†µí•œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê°„ ë°ì´í„° ì¼ê´€ì„± ë³´ì¥
- **ê³ ì„±ëŠ¥ ë°°ì¹˜ ì²˜ë¦¬**: Redis ê¸°ë°˜ ë°°ì¹˜ ìŠ¤ì¼€ì¤„ëŸ¬ë¡œ ëŒ€ìš©ëŸ‰ íŠ¸ë˜í”½ ì²˜ë¦¬
- **ì‹¤ì‹œê°„ ì•Œë¦¼**: Server-Sent Events(SSE)ë¥¼ í†µí•œ ì‹¤ì‹œê°„ ê°€ê²© ì—…ë°ì´íŠ¸
- **MSA ì•„í‚¤í…ì²˜**: Spring Cloud ê¸°ë°˜ì˜ í™•ì¥ ê°€ëŠ¥í•œ ì„œë¹„ìŠ¤ êµ¬ì¡°

### ğŸ† ì½”ë“œ í’ˆì§ˆ

- **êµ¬ê¸€ ì‹œë‹ˆì–´ ê°œë°œì ê¸°ì¤€ A- ë“±ê¸‰**
- **ë™ì‹œì„± ì œì–´**: Redis Lua Script ê¸°ë°˜ ì›ìì  ì²˜ë¦¬
- **ë¶„ì‚° íŠ¸ëœì­ì…˜**: Saga íŒ¨í„´ìœ¼ë¡œ ë³´ìƒ íŠ¸ëœì­ì…˜ êµ¬í˜„
- **ì…ë ¥ ê²€ì¦**: Bean Validationìœ¼ë¡œ ë³´ì•ˆ ê°•í™”
- **ì„±ëŠ¥ ìµœì í™”**: ë°°ì¹˜ ì²˜ë¦¬ ë° ì—ëŸ¬ í•¸ë“¤ë§ ìµœì í™”

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Backend
- **Java 17** - LTS ë²„ì „ ì‚¬ìš©
- **Spring Boot 3.5.0** - ìµœì‹  Spring Boot ë²„ì „
- **Spring Cloud 2025.0.0** - ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì¸í”„ë¼
- **Spring Data JPA** - ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ
- **Spring Batch** - ë°°ì¹˜ ì²˜ë¦¬
- **Spring Kafka** - ë©”ì‹œì§•

### Database & Cache
- **MySQL 8.0** - ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤
- **Redis 7.0** - ìºì‹œ ë° ì„¸ì…˜ ì €ì¥ì†Œ
- **Lettuce** - Redis í´ë¼ì´ì–¸íŠ¸

### Message Queue
- **Apache Kafka 3.0** - ë¹„ë™ê¸° ë©”ì‹œì§•
- **Spring Cloud Stream** - ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬

### Service Discovery & Communication
- **Netflix Eureka** - ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬
- **OpenFeign** - ì„œë¹„ìŠ¤ ê°„ HTTP í†µì‹ 

### Documentation
- **SpringDoc OpenAPI 3** - API ë¬¸ì„œí™”
- **Swagger UI** - API í…ŒìŠ¤íŠ¸ ì¸í„°í˜ì´ìŠ¤

### Build & Deploy
- **Gradle** - ë¹Œë“œ ë„êµ¬
- **Docker** - ì»¨í…Œì´ë„ˆí™”
- **GitHub Actions** - CI/CD

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

### ì „ì²´ ì•„í‚¤í…ì²˜
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Gateway       â”‚    â”‚   Eureka        â”‚    â”‚   Config        â”‚
â”‚   (Spring Cloud)â”‚    â”‚   (Discovery)   â”‚    â”‚   (Config)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                       â”‚                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Auction        â”‚    â”‚  Payment        â”‚    â”‚  Piece          â”‚
â”‚  Service        â”‚â—„â”€â”€â–ºâ”‚  Service        â”‚    â”‚  Service        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                       â”‚                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MySQL          â”‚    â”‚  Redis          â”‚    â”‚  Kafka          â”‚
â”‚  (Database)     â”‚    â”‚  (Cache/PubSub) â”‚    â”‚  (Message)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì„œë¹„ìŠ¤ ë‚´ë¶€ ì•„í‚¤í…ì²˜ (Clean Architecture)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Presentation Layer                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Controller    â”‚  â”‚   DTO/VO        â”‚  â”‚   Exception  â”‚  â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚   Handler    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Application Layer                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Service       â”‚  â”‚   Saga Service  â”‚  â”‚   Scheduler  â”‚  â”‚
â”‚  â”‚   (Business)    â”‚  â”‚   (Transaction) â”‚  â”‚   Service    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Infrastructure Layer                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Repository    â”‚  â”‚   Feign Client  â”‚  â”‚   Kafka      â”‚  â”‚
â”‚  â”‚   (Data Access) â”‚  â”‚   (HTTP Client) â”‚  â”‚   Producer   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥

### 1. ì‹¤ì‹œê°„ ê²½ë§¤ ê´€ë¦¬
- **ê²½ë§¤ ìƒì„±/ìˆ˜ì •/ì¢…ë£Œ**: íˆ¬í‘œ ê²°ê³¼ì— ë”°ë¥¸ ìë™ ê²½ë§¤ ìƒì„±
- **ì‹¤ì‹œê°„ ì…ì°°**: Redis Lua Script ê¸°ë°˜ ì›ìì  ì…ì°° ì²˜ë¦¬
- **ìë™ ê²½ë§¤ ì¢…ë£Œ**: ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ í†µí•œ ì •í™•í•œ ì‹œê°„ ê¸°ë°˜ ì¢…ë£Œ

### 2. ë™ì‹œì„± ì œì–´
```java
// Redis Lua Scriptë¥¼ í†µí•œ ì›ìì  ì…ì°° ì²˜ë¦¬
@Service
public class AtomicBidService {
    public boolean processBidAtomically(String auctionUuid, Bid bid) {
        // ë¶„ì‚° ë½ íšë“ â†’ ì›ìì  ì²˜ë¦¬ â†’ ë½ í•´ì œ
        // Race Condition ì™„ì „ í•´ê²°
    }
}
```

### 3. ë¶„ì‚° íŠ¸ëœì­ì…˜ ê´€ë¦¬
```java
// Saga íŒ¨í„´ì„ í†µí•œ ë³´ìƒ íŠ¸ëœì­ì…˜
@Service
public class AuctionSagaService {
    public void processAuctionUpdateWithSaga(UpdateAuctionDto dto) {
        // Step 1: ì´ì „ ì…ì°°ì ë³´ì¦ê¸ˆ ë°˜í™˜
        // Step 2: í˜„ì¬ ì…ì°°ì ë³´ì¦ê¸ˆ ì°¨ê°
        // Step 3: ì‹¤íŒ¨ ì‹œ ë³´ìƒ íŠ¸ëœì­ì…˜ ì‹¤í–‰
    }
}
```

### 4. ì‹¤ì‹œê°„ ì•Œë¦¼
- **Server-Sent Events (SSE)**: ì‹¤ì‹œê°„ ê°€ê²© ì—…ë°ì´íŠ¸ ìŠ¤íŠ¸ë¦¬ë°
- **Redis Pub/Sub**: ë‹¤ì¤‘ ì„œë²„ í™˜ê²½ì—ì„œ ì´ë²¤íŠ¸ ë™ê¸°í™”

### 5. ë°°ì¹˜ ì²˜ë¦¬
- **ê³ ì„±ëŠ¥ ë°°ì¹˜ ìŠ¤ì¼€ì¤„ëŸ¬**: Redis ê¸°ë°˜ ë°°ì¹˜ ì²˜ë¦¬ë¡œ ëŒ€ìš©ëŸ‰ íŠ¸ë˜í”½ ì²˜ë¦¬
- **ê°œë³„ ì‹¤íŒ¨ ê²©ë¦¬**: í•œ ê²½ë§¤ ì‹¤íŒ¨ê°€ ì „ì²´ ë°°ì¹˜ì— ì˜í–¥ ì£¼ì§€ ì•ŠìŒ

## ğŸ“¦ ì„¤ì¹˜ ë° ì‹¤í–‰

### Prerequisites
- Java 17+
- MySQL 8.0+
- Redis 7.0+
- Kafka 3.0+
- Docker (ì„ íƒì‚¬í•­)

### 1. ì €ì¥ì†Œ í´ë¡ 
```bash
git clone https://github.com/spharos-0078/0078-auctionService.git
cd 0078-auctionService
```

### 2. í™˜ê²½ ì„¤ì •
```bash
# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env

# í™˜ê²½ ë³€ìˆ˜ í¸ì§‘
vim .env
```

```env
# Database
EC2_DB=localhost
SPRING_DATASOURCE_USERNAME=root
SPRING_DATASOURCE_PASSWORD=password

# Redis
REDIS_PASSWORD=password

# Kafka
EC2_HOST2=localhost

# Eureka
EC2_HOST=localhost
```

### 3. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
```sql
-- MySQL ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
CREATE DATABASE piece_of_cake;
```

### 4. ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰
```bash
# Gradleì„ í†µí•œ ì‹¤í–‰
./gradlew bootRun

# ë˜ëŠ” JAR íŒŒì¼ë¡œ ì‹¤í–‰
./gradlew build
java -jar build/libs/auction-service-0.0.1-SNAPSHOT.jar
```

### 5. Dockerë¥¼ í†µí•œ ì‹¤í–‰
```bash
# Docker ì´ë¯¸ì§€ ë¹Œë“œ
docker build -t auction-service .

# Docker Composeë¡œ ì‹¤í–‰
docker-compose up -d
```

## ğŸ“š API ë¬¸ì„œ

### Swagger UI
ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ í›„ ë‹¤ìŒ URLì—ì„œ API ë¬¸ì„œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
```
http://localhost:8088/swagger-ui/index.html
```

### ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸

#### ê²½ë§¤ ê´€ë¦¬
```
GET    /api/v1/auction/highest-price/{auctionUuid}    # ìµœê³  ì…ì°°ê°€ ì¡°íšŒ
POST   /api/v1/auction                                # ê²½ë§¤ ìƒì„±
GET    /api/v1/auction/list                           # ê²½ë§¤ ëª©ë¡ ì¡°íšŒ
GET    /api/v1/auction/sse/price-updates/{auctionUuid} # ì‹¤ì‹œê°„ ê°€ê²© ì—…ë°ì´íŠ¸
```

#### ì…ì°° ê´€ë¦¬
```
POST   /api/v1/bid                                    # ì…ì°° ìƒì„±
GET    /api/v1/bid/list                               # ì…ì°° ëª©ë¡ ì¡°íšŒ
GET    /api/v1/bid/my-auctions                        # ë‚´ ê²½ë§¤ ëª©ë¡
POST   /api/v1/bid/hide                               # ì…ì°° ìˆ¨ê¸°ê¸°
```

#### íˆ¬í‘œ ê´€ë¦¬
```
POST   /api/v1/vote                                   # íˆ¬í‘œ ìƒì„±
POST   /api/v1/vote/detail                            # íˆ¬í‘œ ìƒì„¸ ìƒì„±
GET    /api/v1/vote/list                              # íˆ¬í‘œ ëª©ë¡ ì¡°íšŒ
```

## ğŸ‘¨â€ğŸ’» ê°œë°œ ê°€ì´ë“œ

### í”„ë¡œì íŠ¸ êµ¬ì¡°
```
src/main/java/com/pieceofcake/auction_service/
â”œâ”€â”€ auction/                    # ê²½ë§¤ ë„ë©”ì¸
â”‚   â”œâ”€â”€ application/           # ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µ
â”‚   â”‚   â”œâ”€â”€ AuctionService.java
â”‚   â”‚   â”œâ”€â”€ AuctionServiceImpl.java
â”‚   â”‚   â”œâ”€â”€ AuctionSagaService.java      # Saga íŒ¨í„´
â”‚   â”‚   â””â”€â”€ scheduler/
â”‚   â”‚       â””â”€â”€ BatchAuctionScheduler.java
â”‚   â”œâ”€â”€ dto/                   # ë°ì´í„° ì „ì†¡ ê°ì²´
â”‚   â”œâ”€â”€ entity/                # ì—”í‹°í‹°
â”‚   â”œâ”€â”€ infrastructure/        # ì¸í”„ë¼ ê³„ì¸µ
â”‚   â”‚   â”œâ”€â”€ AuctionRepository.java
â”‚   â”‚   â””â”€â”€ client/
â”‚   â”‚       â””â”€â”€ AuctionFeignClient.java
â”‚   â””â”€â”€ presentation/          # í”„ë ˆì  í…Œì´ì…˜ ê³„ì¸µ
â”‚       â””â”€â”€ AuctionController.java
â”œâ”€â”€ bid/                       # ì…ì°° ë„ë©”ì¸
â”‚   â”œâ”€â”€ application/
â”‚   â”‚   â”œâ”€â”€ BidService.java
â”‚   â”‚   â”œâ”€â”€ BidServiceImpl.java
â”‚   â”‚   â””â”€â”€ AtomicBidService.java       # ì›ìì  ì²˜ë¦¬
â”‚   â””â”€â”€ ...
â”œâ”€â”€ vote/                      # íˆ¬í‘œ ë„ë©”ì¸
â”œâ”€â”€ common/                    # ê³µí†µ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ config/               # ì„¤ì •
â”‚   â”œâ”€â”€ entity/               # ê³µí†µ ì—”í‹°í‹°
â”‚   â”œâ”€â”€ exception/            # ì˜ˆì™¸ ì²˜ë¦¬
â”‚   â””â”€â”€ scheduler/            # ê³µí†µ ìŠ¤ì¼€ì¤„ëŸ¬
â””â”€â”€ kafka/                    # Kafka ê´€ë ¨
    â””â”€â”€ producer/
```

### ì½”ë”© ì»¨ë²¤ì…˜

#### 1. íŒ¨í‚¤ì§€ ëª…ëª… ê·œì¹™
- ë„ë©”ì¸ë³„ íŒ¨í‚¤ì§€ ë¶„ë¦¬: `auction`, `bid`, `vote`
- ê³„ì¸µë³„ íŒ¨í‚¤ì§€ ë¶„ë¦¬: `presentation`, `application`, `infrastructure`

#### 2. í´ë˜ìŠ¤ ëª…ëª… ê·œì¹™
- Controller: `*Controller`
- Service: `*Service`, `*ServiceImpl`
- Repository: `*Repository`
- Entity: ë„ë©”ì¸ëª… (ì˜ˆ: `Auction`, `Bid`)
- DTO: `*Dto`, `*RequestDto`, `*ResponseDto`
- VO: `*Vo`, `*RequestVo`, `*ResponseVo`

#### 3. ë©”ì„œë“œ ëª…ëª… ê·œì¹™
- CRUD: `create*`, `read*`, `update*`, `delete*`
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§: `process*`, `validate*`, `calculate*`

### í…ŒìŠ¤íŠ¸ ì‘ì„±

#### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
```java
@ExtendWith(MockitoExtension.class)
class AuctionServiceTest {
    
    @Mock
    private AuctionRepository auctionRepository;
    
    @InjectMocks
    private AuctionServiceImpl auctionService;
    
    @Test
    @DisplayName("ê²½ë§¤ ìƒì„± ì„±ê³µ í…ŒìŠ¤íŠ¸")
    void createAuction_Success() {
        // given
        CreateAuctionRequestDto request = createTestRequest();
        
        // when
        auctionService.createAuction(request);
        
        // then
        verify(auctionRepository).save(any(Auction.class));
    }
}
```

#### í†µí•© í…ŒìŠ¤íŠ¸
```java
@SpringBootTest
@Transactional
class AuctionControllerIntegrationTest {
    
    @Autowired
    private TestRestTemplate restTemplate;
    
    @Test
    @DisplayName("ê²½ë§¤ ìƒì„± API í†µí•© í…ŒìŠ¤íŠ¸")
    void createAuction_IntegrationTest() {
        // given
        CreateAuctionRequestVo request = createTestRequest();
        
        // when
        ResponseEntity<Void> response = restTemplate.postForEntity(
            "/api/v1/auction", request, Void.class);
        
        // then
        assertThat(response.getStatusCode()).isEqualTo(HttpStatus.OK);
    }
}
```

## âš¡ ì„±ëŠ¥ ìµœì í™”

### 1. ë™ì‹œì„± ì œì–´
- **Redis Lua Script**: ì›ìì  ì—°ì‚°ìœ¼ë¡œ Race Condition í•´ê²°
- **ë¶„ì‚° ë½**: Redis ê¸°ë°˜ ë½ ë©”ì»¤ë‹ˆì¦˜
- **Connection Pool**: HikariCPë¥¼ í†µí•œ DB ì—°ê²° ìµœì í™”

### 2. ìºì‹± ì „ëµ
- **Redis ìºì‹œ**: ìµœê³ ê°€ ì •ë³´ ìºì‹±
- **TTL ì„¤ì •**: 14ì¼ ë§Œë£Œë¡œ ë©”ëª¨ë¦¬ ê´€ë¦¬
- **Pub/Sub**: ì‹¤ì‹œê°„ ì´ë²¤íŠ¸ ë™ê¸°í™”

### 3. ë°°ì¹˜ ì²˜ë¦¬
- **ë°°ì¹˜ ìŠ¤ì¼€ì¤„ëŸ¬**: 1ì´ˆ ê°„ê²©ìœ¼ë¡œ ë°°ì¹˜ ì²˜ë¦¬
- **ê°œë³„ ì‹¤íŒ¨ ê²©ë¦¬**: í•œ ê²½ë§¤ ì‹¤íŒ¨ê°€ ì „ì²´ì— ì˜í–¥ ì£¼ì§€ ì•ŠìŒ
- **ë¦¬ì†ŒìŠ¤ ì •ë¦¬**: ì²˜ë¦¬ ì™„ë£Œ í›„ ìë™ í”Œë˜ê·¸ ì œê±°

### 4. ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”
- **ì¸ë±ìŠ¤**: UUID, ìƒíƒœ, ì‹œê°„ ê¸°ë°˜ ì¸ë±ìŠ¤
- **Soft Delete**: ë…¼ë¦¬ì  ì‚­ì œë¡œ ë°ì´í„° ë³´ì¡´
- **JPA Auditing**: ìƒì„±/ìˆ˜ì • ì‹œê°„ ìë™ ê´€ë¦¬

## ğŸ“Š ëª¨ë‹ˆí„°ë§

### ë¡œê¹…
- **êµ¬ì¡°í™”ëœ ë¡œê¹…**: JSON í˜•íƒœ ë¡œê·¸ ì¶œë ¥
- **ë¡œê·¸ ë ˆë²¨**: DEBUG, INFO, WARN, ERROR
- **MDC**: ìš”ì²­ ì¶”ì ì„ ìœ„í•œ Correlation ID

### ë©”íŠ¸ë¦­
```java
// Micrometerë¥¼ í†µí•œ ë©”íŠ¸ë¦­ ìˆ˜ì§‘
@Timed("auction.bid.processing")
@Counted("auction.bid.requests")
public CreateBidResponseDto createBid(CreateBidRequestDto request) {
    // ë©”íŠ¸ë¦­ ìˆ˜ì§‘
}
```

### í—¬ìŠ¤ ì²´í¬
```
GET /actuator/health          # ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœ
GET /actuator/metrics         # ë©”íŠ¸ë¦­ ì •ë³´
GET /actuator/info            # ì• í”Œë¦¬ì¼€ì´ì…˜ ì •ë³´
```

## ğŸ¤ ê¸°ì—¬ ê°€ì´ë“œ

### 1. ì´ìŠˆ ë¦¬í¬íŠ¸
- ë²„ê·¸ ë¦¬í¬íŠ¸: [Issues](https://github.com/spharos-0078/0078-auctionService/issues)
- ê¸°ëŠ¥ ìš”ì²­: [Feature Request](https://github.com/spharos-0078/0078-auctionService/issues/new)

### 2. Pull Request
1. Fork the repository
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

### 3. ì½”ë“œ ë¦¬ë·° ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ì½”ë“œ ì»¨ë²¤ì…˜ ì¤€ìˆ˜
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ ì‘ì„±
- [ ] ë¬¸ì„œ ì—…ë°ì´íŠ¸
- [ ] ì„±ëŠ¥ ì˜í–¥ ê²€í† 

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](LICENSE) íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ‘¥ íŒ€

- **ê°œë°œíŒ€**: Spharos 0078íŒ€
- **ê¸°ìˆ  ë¦¬ë“œ**: Jason
- **ì•„í‚¤í…íŠ¸**: MSA ì „ë¬¸ê°€

## ğŸ“ ë¬¸ì˜

- **ì´ìŠˆ**: [GitHub Issues](https://github.com/spharos-0078/0078-auctionService/issues)
- **ë¬¸ì„œ**: [Wiki](https://github.com/spharos-0078/0078-auctionService/wiki)

---

**â­ ì´ í”„ë¡œì íŠ¸ê°€ ë„ì›€ì´ ë˜ì—ˆë‹¤ë©´ Starë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”!** 